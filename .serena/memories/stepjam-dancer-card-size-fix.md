# STEPJAMダンサーカードサイズ統一修正完了

**修正日**: 2025年8月22日  
**修正者**: Claude Code Ultra Think  
**修正内容**: ダンサーカードが1行に1枚表示される際のサイズ拡大問題を解決し、4枚並び時のサイズに統一

## 問題の概要
- フロントページのライブラリリストで、ダンサーカードが少ない場合（1行に1枚など）に `flex: 1 1 0` により画面幅いっぱいに拡大
- 4枚並び時と1枚表示時でカードサイズが大きく異なり、一貫性に欠ける表示

## 修正前の状態
```css
.lib-list-card {
    flex: 1 1 0;          /* 伸縮自在 */
    max-width: 280px;
    min-width: 180px;
}

@media (max-width: 767px) {
    .lib-list-card {
        flex: 1 1 0;      /* 伸縮自在 */
        max-width: none;   /* 制限なし */
        min-width: 0;
    }
}
```

## 修正後の状態
```css
.lib-list-card {
    flex: 0 0 auto;       /* 固定サイズ */
    width: 280px;         /* 固定幅指定 */
    max-width: 280px;
    min-width: 180px;
}

@media (max-width: 767px) {
    .lib-list-card {
        flex: 0 0 auto;           /* 固定サイズ */
        width: min(180px, 45vw);  /* レスポンシブな固定幅 */
        max-width: 180px;
        min-width: 120px;
    }
}
```

## 修正内容詳細

### 1. デスクトップ版（768px以上）
- **flex設定**: `1 1 0` → `0 0 auto`（固定サイズ）
- **width指定**: 追加 `width: 280px`
- **効果**: 4枚並び時と同じ280px固定サイズを維持

### 2. モバイル版（767px以下）
- **flex設定**: `1 1 0` → `0 0 auto`（固定サイズ）
- **width指定**: `min(180px, 45vw)` でレスポンシブ対応
- **max-width**: `none` → `180px`（適切な制限）
- **min-width**: `0` → `120px`（最小サイズ保証）

## 動作確認結果（Playwright MCP）

### デスクトップ表示（1920px）
- ✅ カード幅: **280px固定**
- ✅ 1行あたり: **4枚表示**
- ✅ flex設定: **0 0 auto**（固定）
- ✅ 5枚のダンサーが適切に表示（1行目4枚、2行目1枚）

### モバイル表示（375px）
- ✅ カード幅: **168.75px**（45vwで計算）
- ✅ max-width: **180px制限**
- ✅ 全5枚のダンサーが適切な折り返しで表示

## 技術的な改善点

### 1. 一貫したサイズ表示
- 1行に1枚だけ表示される場合でも280px固定
- 画面幅いっぱいに拡大されることがない
- 視覚的な一貫性を確保

### 2. レスポンシブ最適化
- モバイルでは `min(180px, 45vw)` で画面サイズに応じて調整
- 小さな画面でも適切なサイズを維持
- 120px の最小幅で可読性を保証

### 3. flexbox設定の最適化
- `flex: 0 0 auto` で固定サイズ動作
- 意図しない拡大・縮小を防止
- 予測可能なレイアウト動作

## メンテナンス効果

### 今後の利点
- ダンサー数が変動してもカードサイズが一定
- エリア別でダンサー数に差があっても表示が統一
- デザイン仕様に準拠した安定した表示

### 拡張性
- 新しいダンサー追加時も同じサイズで表示
- カスタムブレークポイントでのサイズ調整が容易
- CSSカスタムプロパティでの動的調整も可能

## 確認項目
✅ デスクトップ版カード固定サイズ（280px）  
✅ モバイル版カード適応サイズ（168.75px）  
✅ 1行1枚時のサイズ維持  
✅ 4枚並び時の理想的な配置  
✅ 全件表示との連携動作  
✅ レスポンシブ表示の最適化