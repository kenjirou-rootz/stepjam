# WordPress移行前に済ませておくべきこと

## 概要

WordPress移行作業を開始する前に必ず完了しておくべき項目をまとめています。これらの準備を怠ると移行作業が困難になったり、二度手間になる可能性があります。

## ✅ チェックリスト形式での確認

各項目を確認し、✅をつけてから移行作業を開始してください。

---

## Phase 1: 現在のHTMLサイトのバックアップ

### 完全バックアップの作成
- [ ] **プロジェクト全体のバックアップ作成**
  ```
  バックアップ先: ~/Rootz Dropbox/林憲二郎/desktop-claude/stepjam-re/バックアップ/
  フォルダ名: stepjam-html-backup-YYYYMMDD
  ```

- [ ] **バックアップ内容の確認**
  - [ ] index-tailwind.html（メインファイル）
  - [ ] assetsフォルダ全体（CSS/JS/画像）
  - [ ] js/main.js（JavaScript機能）
  - [ ] 設定ファイル・ドキュメント類

- [ ] **バックアップの整合性確認**
  - [ ] バックアップファイルの開閉確認
  - [ ] ブラウザでの表示動作確認
  - [ ] ファイルサイズ・数の一致確認

### 作業用コピーの作成
- [ ] **移行作業専用のコピー作成**
  ```
  作業用パス: ~/Local Sites/stepjam-wp/app/public/wp-content/themes/stepjam-theme/
  用途: WordPress移行時の参照用
  ```

---

## Phase 2: ライセンス・アカウントの準備

### 必要な有料ライセンス
- [ ] **ACF Pro ライセンス**
  - [ ] Developerライセンス以上の確認
  - [ ] ライセンスキーの取得・保管
  - [ ] ダウンロードファイルの準備

- [ ] **WPForms Pro ライセンス**
  - [ ] 有料プランの契約確認
  - [ ] ライセンスキーの取得・保管
  - [ ] ダウンロードファイルの準備

### 開発環境アカウント
- [ ] **Local by Flywheel**
  - [ ] アカウント作成完了
  - [ ] ソフトウェアのダウンロード完了
  - [ ] インストール動作確認完了

### その他必要なアカウント
- [ ] **Git/GitHub（推奨）**
  - [ ] アカウント確認
  - [ ] SSH鍵の設定（必要に応じて）

---

## Phase 3: 開発環境構築の事前準備

### システム要件の確認
- [ ] **OS互換性確認**
  - [ ] macOS 10.15以上 / Windows 10以上
  - [ ] 利用可能ディスク容量 5GB以上

- [ ] **必要ソフトウェアの確認**
  - [ ] Node.js（Tailwind CSSビルド用、推奨）
  - [ ] VS Code等のエディタ
  - [ ] ブラウザ（Chrome, Firefox, Safari）

### ネットワーク・セキュリティ設定
- [ ] **ローカル開発用設定**
  - [ ] ファイアウォールの確認
  - [ ] セキュリティソフトの除外設定準備
  - [ ] Local用ポート（80, 443, 3000-4000番台）の確認

---

## Phase 4: HTML段階で済ませておく作業

### ⚠️ 移行前に必須の修正作業

#### データ属性の最適化
- [ ] **不要なdata-node属性の削除**
  - [x] WordPress無関係のdata-node属性削除済み
  - [x] data-acf属性は保持済み（143個）
  - [ ] 削除作業の最終確認

#### アセットファイルの整理
- [ ] **不要ファイルの削除**
  - [ ] `dummy-acf-text.svg`の削除確認
  - [ ] `dummy-acf-text1.svg`の削除確認  
  - [ ] `dummy-acf-text2.svg`の削除確認
  - [ ] `dummy-active-menu.svg`の削除確認
  - [ ] その他不要ファイルの特定・削除

#### レスポンシブ対応の最終調整
- [ ] **768pxブレークポイントの動作確認**
  - [ ] デスクトップ表示（768px以上）の確認
  - [ ] モバイル表示（767px以下）の確認
  - [ ] ブレークポイント境界での表示確認

#### JavaScript機能の動作確認
- [ ] **main.jsの最終動作テスト**
  - [ ] ナビゲーションオーバーレイの開閉
  - [ ] セクションスクロール機能
  - [ ] Tokyo/Osakaタブ切り替え
  - [ ] レスポンシブ判定機能

---

## Phase 5: 移行後対応vs現時点対応の整理

### 🔄 移行後に対応すべき項目（現時点では実行しない）

#### コンテンツの動的化
- [ ] **静的HTMLからACFフィールドへの置き換え**
  - ❌ 現時点で実行しない：画像パスをACF用に変更
  - ❌ 現時点で実行しない：テキストコンテンツの削除
  - ❌ 現時点で実行しない：HTML構造の大幅変更

#### WordPress固有の機能追加
- [ ] **WordPressテンプレート構文の追加**
  - ❌ 現時点で実行しない：<?php ?>タグの追加
  - ❌ 現時点で実行しない：get_field()関数の実装
  - ❌ 現時点で実行しない：wp_nav_menu()の実装

### ✅ 現時点で済ませておくべき項目

#### ファイル構造の最適化
- [ ] **アセットの整理**
  - [x] 必要な画像・SVGファイルの確認済み
  - [ ] ファイル名の統一性確認
  - [ ] パス構造の確認

#### 品質保証
- [ ] **コードの品質確認**
  - [ ] HTMLの構文エラーチェック
  - [ ] CSSの動作確認
  - [ ] JavaScriptのエラーチェック

---

## Phase 6: 現時点で行うと問題が起こる作業

### ❌ 絶対に実行してはいけない作業

#### WordPress化を前提とした変更
- [ ] **HTMLテンプレート化**
  - ❌ 禁止：PHPコードの追加
  - ❌ 禁止：WordPressテンプレート関数の使用
  - ❌ 禁止：.phpファイルへの拡張子変更

#### 動的コンテンツ化
- [ ] **静的コンテンツの削除**
  - ❌ 禁止：画像パスの削除
  - ❌ 禁止：テキストコンテンツの削除
  - ❌ 禁止：メニュー項目の削除

#### 構造の根本的変更
- [ ] **HTML構造の大幅な変更**
  - ❌ 禁止：data-acf属性の変更・削除
  - ❌ 禁止：CSS classの大幅な変更
  - ❌ 禁止：JavaScript関数名の変更

---

## Phase 7: Claude-ユーザー間の最終確認ガイド

### 移行準備完了の確認項目

#### 技術的準備
- [ ] **環境準備**
  - [ ] 全バックアップ作成完了
  - [ ] ライセンス準備完了
  - [ ] Local by Flywheel インストール完了

#### コンテンツ準備
- [ ] **現状サイト最適化**
  - [ ] 不要ファイル削除完了
  - [ ] データ属性整理完了
  - [ ] 動作確認完了

#### 作業体制
- [ ] **移行体制確認**
  - [ ] 作業スケジュールの確認
  - [ ] 緊急時連絡体制の確認
  - [ ] バックアップ復旧手順の確認

### Claude-ユーザー間での最終チェック

#### 移行開始前の対話確認
```
質問1: 上記すべてのチェック項目が完了していますか？
回答: □ はい / □ いいえ（未完了項目を明記）

質問2: 現在のHTMLサイトの動作に問題はありませんか？
回答: □ 問題なし / □ 問題あり（詳細を明記）

質問3: WordPress移行の目標とスケジュールを確認できていますか？
回答: □ 確認済み / □ 要調整

質問4: 緊急時の対応方法は確認できていますか？
回答: □ 確認済み / □ 要確認
```

#### 移行作業開始の最終承認
- [ ] **ユーザー承認**
  - [ ] 上記すべての準備完了を確認
  - [ ] 移行作業開始の承認
  - [ ] 責任分担の確認

---

## 緊急時対応

### 問題発生時の対応フロー

#### レベル1: 軽微な問題
- **対応**: 該当セクションの再確認
- **判断**: 1時間以内に解決可能な問題

#### レベル2: 重大な問題
- **対応**: バックアップからの復旧検討
- **判断**: 作業中断が必要な問題

#### レベル3: 緊急停止
- **対応**: 即座に作業停止、バックアップからの完全復旧
- **判断**: 原因不明または重篤な障害

### 連絡・相談体制
- **技術的問題**: Claude Codeでの相談
- **作業判断**: ユーザーとの対話での決定
- **緊急事態**: 作業即座停止、状況報告

---

## まとめ

このガイドの全項目を完了してから、`01_概要編.md`以降の移行作業に進んでください。

**重要**: 不明な点や疑問がある場合は、移行作業を開始せず、必ずClaudeに相談してください。

準備不足での移行開始は、予期しない問題や作業の長期化を招く可能性があります。