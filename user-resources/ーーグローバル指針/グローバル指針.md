# グローバル変数.md（Claude Code 自律対応・最小必須セット）

> Ultra thinkでの対応をお願いします。  
> 不明点があれば必ず質問し、独断で補わないでください。  


## 1) トークン / ベース実装（日本語コメント必須）

```css
/* ========= ルート変数（モバイル基準） ========= */
:root {
  /* セーフエリア（ノッチ等） */
  --safe-t: env(safe-area-inset-top, 0px);
  --safe-r: env(safe-area-inset-right, 0px);
  --safe-b: env(safe-area-inset-bottom, 0px);
  --safe-l: env(safe-area-inset-left, 0px);

  /* グリッド/レイアウト */
  --grid-gap: clamp(8px, 2vw, 24px);       /* 行間・列間の既定ギャップ */
  --container-pad-x: clamp(16px, 3vw, 40px); /* 左右セーフティの基準値 */

  /* タイポ（本文ベースサイズ） */
  --font-sans: "Noto Sans JP", system-ui, -apple-system, "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  --leading-normal: 1.6;                   /* 本文の快適な行間 */
  --text-base: clamp(14px, 3.6vw, 16px);   /* モバイル本文 */

  /* 余白スケール（4pxベース + 流体） */
  --space-0: 0; --space-1: 4px; --space-2: 8px; --space-3: 12px;
  --space-4: 16px; --space-5: 24px; --space-6: 32px; --space-8: 48px;
  --space-fluid: clamp(24px, 6vw, 80px);   /* セクション上下の可変余白 */


/* ========= フォント読み込み（woff2 / 実体名で登録） ========= */
@font-face {
  font-family: "Noto Sans JP"; /* 実体と同名 */
  src: url("/fonts/NotoSansJP-VariableFont_wght.woff2") format("woff2");
  font-weight: 100 900; /* 可変軸（静的配布ならウェイトごとに複数宣言） */
  font-style: normal;
  font-display: swap;   /* 読み込み中も代替表示で瞬断を避ける */
}

/* ========= コンテナクエリの“土台” =========
*/
.page {
  container-type: inline-size; /* 親の箱幅で判定 */
  container-name: page;
  max-inline-size: var(--container-max);
  margin-inline: auto;
  /* 左右セーフティは左右別々に safe-area を考慮 */
  padding-inline:
    max(var(--container-pad-x), var(--safe-l))
    max(var(--container-pad-x), var(--safe-r));
}

/* ========= PC側のトークン上書き（≥768px） ========= */
@container page (min-width: 768px) {
  .page {
    --text-base: clamp(16px, 1rem + 0.2vw, 18px); /* PC本文 */
    --grid-gap: clamp(12px, 2.2vw, 28px);         /* ガター拡張 */
    --container-pad-x: clamp(16px, 4vw, 56px);    /* セーフティ拡張 */
  }
}

/* ========= ベース適用 ========= */
**ベースがない場合はユーザーにその旨伝え、サイト全体を確認し推奨される対応を提示して判断を仰いでください。**
body{
  font-family: var(--font-sans);
  font-size: var(--text-base);
  line-height: var(--leading-normal);
  font-feature-settings: "tnum" 1; /* 数字を等幅に（表/価格の桁ズレ抑制） */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

/* ========= 12カラム骨格 + subgrid（縦ライン継承） ========= */
.grid-12{
  display: grid;
  grid-template-columns: repeat(12, minmax(0,1fr));
  gap: var(--grid-gap);
}
.subgrid{
  display: grid;
  grid-template-columns: subgrid;
  gap: inherit;
}

/* ========= セクション（ピンクパス：内部余白） ========= */
.section{
  padding-block: var(--space-fluid);
  /* 左右は上で page にも指定しているが、独立セクション用に再掲 */
  padding-inline:
    max(var(--container-pad-x), var(--safe-l))
    max(var(--container-pad-x), var(--safe-r));
}

/* ========= フル画面（ヒーロー/モーダル） =========
   - モバイルUIの出入りで高さがズレないよう dvh を優先、先に vh を書いてフォールバック
*/
.full-viewport { height: 100vh; height: 100dvh; }

/* ========= メディアの既定（CLS対策） =========
   - 画像/動画は読み込み前に枠を確保：HTMLで width/height 属性を原則付与
   - 背景や不定比率は CSS の aspect-ratio で先取り
*/
img, video { display:block; width:100%; height:auto; } /* 描画規律の統一 */
.media { aspect-ratio: var(--media-ratio, 16/9); object-fit: cover; }

/* ========= 紫パス：固定高・100svw・中心軸・上下クリップ ========= */
.purple-media{ block-size: var(--purple-fixed-h); overflow: clip; }
.purple-media > img, .purple-media > video{
  inline-size: 100svw; max-inline-size: none;
  object-fit: cover; object-position: 50% 50%;
}

---

# 絶対遵守事項
**不明瞭な部分があれば絶対・必ずユーザーへ質疑を行なってください。**
