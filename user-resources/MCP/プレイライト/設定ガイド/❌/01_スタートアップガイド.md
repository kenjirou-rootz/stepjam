# Playwright MCP スタートアップガイド

## 🎯 概要

このガイドは、Playwright MCPサーバーの完全なセットアップ手順を記載しています。  
次回ナレッジがないClaudeCodeでも、このガイドに従って同じ環境を再現できます。

## 📋 前提条件

- Node.js v23.11.0以上
- npm v10.9.2以上  
- Claude Code環境

## 🚀 セットアップ手順

### 1. 現在の設定確認

```bash
# Claude設定ファイルの確認
ls -la ~/.claude*

# MCP設定の確認
grep -A 10 "mcpServers" ~/.claude.json
```

### 2. 設定ファイルのバックアップ

```bash
# 必ずバックアップを取る
cp ~/.claude.json ~/.claude.json.backup-$(date +%Y%m%d-%H%M%S)
```

### 3. Playwright MCP設定の更新

Claude設定ファイル（`~/.claude.json`）の`mcpServers`セクションに以下を追加：

```json
{
  "mcpServers": {
    "playwright": {
      "type": "stdio",
      "command": "npx",
      "args": ["@playwright/mcp@latest"],
      "env": {}
    }
  }
}
```

### 4. 設定検証

```bash
# Playwright MCPの動作確認
npx @playwright/mcp@latest --help

# Node.js環境確認
node --version
npm --version
```

## ✅ セットアップ完了確認

以下の項目をすべて確認してください：

- [ ] Claude設定ファイルにPlaywright MCP設定が正しく記載されている
- [ ] `npx @playwright/mcp@latest --help`が正常に実行される
- [ ] Node.js/npm環境が整っている

## 🔧 利用可能なオプション

Playwright MCPサーバーの主要オプション：

| オプション | 説明 |
|-----------|------|
| `--browser <browser>` | ブラウザ指定（chrome, firefox, webkit, msedge） |
| `--headless` | ヘッドレスモード |
| `--device <device>` | デバイスエミュレーション（例：iPhone 15） |
| `--viewport-size <size>` | ビューポートサイズ（例：1280,720） |
| `--isolated` | メモリ内ブラウザプロファイル |
| `--save-trace` | Playwright Traceの保存 |

## 📁 プロジェクト構造

```
stepjam/
└── ユーザーarea/
    └── MCP/
        └── プレイライト/
            ├── logs/              # 実行ログ保存
            └── 設定ガイド/         # 設定ドキュメント
                ├── 01_スタートアップガイド.md
                └── 02_利用ツールガイド.md
```

## 🆘 トラブルシューティング

### 接続エラーの場合
1. Claude Codeを再起動
2. 設定ファイルの記法確認
3. Node.js/npmの再インストール

### Playwright関連エラーの場合
```bash
# Playwrightブラウザの手動インストール
npx playwright install
```

---

**作成日**: 2025-08-20  
**作成者**: Claude Code  
**目的**: Playwright MCP環境の再現可能なセットアップ